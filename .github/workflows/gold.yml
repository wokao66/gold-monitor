name   名字: Gold Node Monitor

on:   :
  schedule:   时间表:
    - cron: '*/30 * * * *'- cron: ‘*/30 * * * *’
  workflow_dispatch:

jobs:   工作:
  monitor:   监控:
    runs-on: ubuntu-latest   上运行:ubuntu-latest
    steps:   步骤:
      - name: Checkout code   —name：签出代码
        uses: actions/checkout@v3   用途:行动/ checkout@v3

      - name: Set up Python   —name：设置Python
        uses: actions/setup-python@v4用途:行动/ setup-python@v4
        with:   :
          python-version: '3.9'   python版本:“3.9”

      - name: Install dependencies—name：安装依赖项
        run: pip install requests   运行：PIP安装请求

      - name: Run logic   —name：运行逻辑
        env:
          WXP_APP_TOKEN: ${{ secrets.WXP_APP_TOKEN }}WXP_APP_TOKEN: ${{secrets。WXP_APP_TOKEN}}
          WXP_UID: ${{ secrets.WXP_UID }}WXP_UID: ${{secrets。WXP_UID}}
        run: python gold_push.py   执行命令python gold_push.py

      - name: Commit and push if price changed-名称：如果价格改变，提交和推动
        run: |   运行:|
          git config --global user.name "github-actions[bot]"
          git config --global user.email "github-actions[bot]@users.noreply.github.com"
          git add last_price.txt   Git添加last_price.txt
          git commit -m "Update last gold price" || exit 0
          git push   git推
